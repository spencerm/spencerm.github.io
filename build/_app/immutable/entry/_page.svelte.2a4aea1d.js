import{S as M,i as I,s as L,e as y,h as E,j as p,l as u,x as h,o as $,p as x,n as b,E as C,d as Q,k as X,M as le,B as N,q as Y,D as se,N as U,v as D,w as S,f as W,m as q,J as O,b as k,F as G,t as w,O as Z,y as F,z as V,A as z,C as A,I as T}from"../chunks/index.0f7cda7f.js";import{l as ee,b as te,w as ne,g as re}from"../chunks/stores.a34d3a67.js";function ae(n){let e,t;return{c(){e=y("div"),t=y("div"),this.h()},l(l){e=E(l,"DIV",{class:!0});var s=p(e);t=E(s,"DIV",{class:!0}),p(t).forEach(u),s.forEach(u),this.h()},h(){h(t,"class","w-full h-2/5 border-dashed border-y-black border-y-2 border-x-0"),h(e,"class","flex grow items-center justify-items-center w-auto h-screen border-0 border-l border-black")},m(l,s){$(l,e,s),x(e,t)},p:b,i:b,o:b,d(l){l&&u(e)}}}class oe extends M{constructor(e){super(),I(this,e,null,ae,L,{})}}function P(n){let e,t,l,s,c,a;return{c(){e=y("div"),t=y("div"),l=y("div"),s=Q(n[0]),this.h()},l(o){e=E(o,"DIV",{class:!0});var f=p(e);t=E(f,"DIV",{class:!0});var r=p(t);l=E(r,"DIV",{class:!0});var i=p(l);s=X(i,n[0]),i.forEach(u),r.forEach(u),f.forEach(u),this.h()},h(){h(l,"class","bug svelte-1bxgns3"),h(t,"class","positioner-inner svelte-1bxgns3"),h(e,"class",le(n[4]())+" svelte-1bxgns3")},m(o,f){$(o,e,f),x(e,t),x(t,l),x(l,s),c||(a=[N(l,"click",n[2]),N(e,"animationend",n[3])],c=!0)},p(o,f){f&1&&Y(s,o[0])},d(o){o&&u(e),c=!1,se(a)}}}function ie(n){let e,t=n[1]&&P(n);return{c(){t&&t.c(),e=C()},l(l){t&&t.l(l),e=C()},m(l,s){t&&t.m(l,s),$(l,e,s)},p(l,[s]){l[1]?t?t.p(l,s):(t=P(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:b,o:b,d(l){t&&t.d(l),l&&u(e)}}}function fe(n,e,t){let l=!0,{isTapable:s=!1}=e,{isMovesUp:c=!0}=e,{value:a}=e;const o=()=>{s&&(t(1,l=!1),console.log("killed "+a))},f=()=>{t(1,l=!1),console.log(a+" died by timeout")},r=()=>c?"fixed positioner move-up":"fixed positioner move-down";return n.$$set=i=>{"isTapable"in i&&t(5,s=i.isTapable),"isMovesUp"in i&&t(6,c=i.isMovesUp),"value"in i&&t(0,a=i.value)},[a,l,o,f,r,s,c]}class ce extends M{constructor(e){super(),I(this,e,fe,ie,L,{isTapable:5,isMovesUp:6,value:0})}}const ue=()=>{const n={lifespan:5e3,totalLanes:U(ee),totalBugs:U(te),totalWaves:U(ne)};let e=0,t=[],l=!1;for(let s=1;s<=n.totalWaves;s++)for(let c=1;c<=n.totalLanes;c++)if(Math.random()>=.25){if(e++,e>n.totalBugs)continue;let a=n.lifespan*H(1,4);t.push({key:s.toString()+c.toString(),laneIndex:c-1,delay:(s-1)*n.lifespan+H(1,s*n.lifespan),color:Math.random()>=.5?"FireBrick":"Indigo",value:s.toString()+"."+c.toString(),lifespan:a,isTapable:!1,isMovesUp:l}),l=!l}return t},H=(n,e)=>(n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n))+n);function he(n){let e,t;return{c(){e=D("svg"),t=D("path"),this.h()},l(l){e=S(l,"svg",{width:!0,height:!0,version:!0,viewBox:!0});var s=p(e);t=S(s,"path",{d:!0}),p(t).forEach(u),s.forEach(u),this.h()},h(){h(t,"d","m466.5 290.4-185.99 107.38h0.003907c-3.7148 2.1484-8.293 2.1484-12.008 0.003906-3.7148-2.1484-6.0039-6.1094-6.0039-10.402v-214.76c0-4.293 2.2891-8.2539 6.0039-10.402 3.7148-2.1445 8.293-2.1445 12.008 0.003906l185.99 107.38h-0.003906c3.7148 2.1445 6.0039 6.1094 6.0039 10.398s-2.2891 8.2539-6.0039 10.398z"),h(e,"width","100%"),h(e,"height","100%"),h(e,"version","1.1"),h(e,"viewBox","0 0 700 700")},m(l,s){$(l,e,s),x(e,t)},p:b,i:b,o:b,d(l){l&&u(e)}}}class _e extends M{constructor(e){super(),I(this,e,null,he,L,{})}}function de(n){let e,t;return{c(){e=D("svg"),t=D("path"),this.h()},l(l){e=S(l,"svg",{width:!0,height:!0,version:!0,viewBox:!0,xmlns:!0});var s=p(e);t=S(s,"path",{d:!0}),p(t).forEach(u),s.forEach(u),this.h()},h(){h(t,"d","m232.4 145.6h235.2c9.2773 0 16.801 9.2773 16.801 16.801v235.2c0 9.2773-7.5234 16.801-16.801 16.801h-235.2c-9.2773 0-16.801-9.2773-16.801-16.801v-235.2c0-9.2773 7.5234-16.801 16.801-16.801z"),h(e,"width","100%"),h(e,"height","100%"),h(e,"version","1.1"),h(e,"viewBox","0 0 700 700"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(l,s){$(l,e,s),x(e,t)},p:b,i:b,o:b,d(l){l&&u(e)}}}class me extends M{constructor(e){super(),I(this,e,null,de,L,{})}}function ve(n){let e,t;return{c(){e=D("svg"),t=D("path"),this.h()},l(l){e=S(l,"svg",{width:!0,height:!0,version:!0,viewBox:!0,xmlns:!0,"xmlns:xlink":!0});var s=p(e);t=S(s,"path",{d:!0}),p(t).forEach(u),s.forEach(u),this.h()},h(){h(t,"d","m305.2 39.203-10.852 70.352c-8.8594 2.8867-17.355 6.5039-25.551 10.676l-57.398-42.176-63.352 63.352 42.176 57.398c-4.1719 8.1953-7.7891 16.691-10.676 25.551l-70.352 10.852v89.602l70.352 10.852c2.8867 8.8594 6.5039 17.355 10.676 25.551l-42.176 57.398 63.352 63.352 57.398-42.176c8.1914 4.1719 16.691 7.7852 25.551 10.676l10.852 70.352h89.602l10.852-70.352c8.8594-2.8867 17.355-6.5039 25.551-10.676l57.398 42.176 63.352-63.352-42.176-57.398c4.1719-8.1953 7.7891-16.691 10.676-25.551l70.348-10.859v-89.602l-70.352-10.852c-2.8867-8.8594-6.5039-17.355-10.676-25.551l42.176-57.398-63.348-63.348-57.402 42.176c-8.1953-4.1719-16.691-7.7852-25.551-10.676l-10.848-70.352h-89.602zm44.801 140c55.672 0 100.8 45.129 100.8 100.8s-45.129 100.8-100.8 100.8-100.8-45.129-100.8-100.8 45.129-100.8 100.8-100.8z"),h(e,"width","100%"),h(e,"height","100%"),h(e,"version","1.1"),h(e,"viewBox","0 0 700 700"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"xmlns:xlink","http://www.w3.org/1999/xlink")},m(l,s){$(l,e,s),x(e,t)},p:b,i:b,o:b,d(l){l&&u(e)}}}class ge extends M{constructor(e){super(),I(this,e,null,ve,L,{})}}function J(n,e,t){const l=n.slice();return l[9]=e[t],l[11]=t,l}function pe(n,e,t){const l=n.slice();return l[12]=e[t],l[11]=t,l}function be(n){let e,t,l,s,c=n[1].toFixed(1)+"",a,o,f,r;return t=new me({}),{c(){e=y("button"),F(t.$$.fragment),l=W(),s=y("h4"),a=Q(c)},l(i){e=E(i,"BUTTON",{});var m=p(e);V(t.$$.fragment,m),m.forEach(u),l=q(i),s=E(i,"H4",{});var g=p(s);a=X(g,c),g.forEach(u)},m(i,m){$(i,e,m),z(t,e,null),$(i,l,m),$(i,s,m),x(s,a),o=!0,f||(r=N(e,"click",n[4]),f=!0)},p(i,m){(!o||m&2)&&c!==(c=i[1].toFixed(1)+"")&&Y(a,c)},i(i){o||(w(t.$$.fragment,i),o=!0)},o(i){k(t.$$.fragment,i),o=!1},d(i){i&&u(e),A(t),i&&u(l),i&&u(s),f=!1,r()}}}function we(n){let e,t,l,s,c,a,o,f;return t=new _e({}),c=new ge({}),{c(){e=y("button"),F(t.$$.fragment),l=W(),s=y("a"),F(c.$$.fragment),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var i=p(e);V(t.$$.fragment,i),i.forEach(u),l=q(r),s=E(r,"A",{class:!0,href:!0});var m=p(s);V(c.$$.fragment,m),m.forEach(u),this.h()},h(){h(e,"class","cursor-pointer"),h(s,"class","cursor-pointer"),h(s,"href","/settings")},m(r,i){$(r,e,i),z(t,e,null),$(r,l,i),$(r,s,i),z(c,s,null),a=!0,o||(f=N(e,"click",n[5]),o=!0)},p:b,i(r){a||(w(t.$$.fragment,r),w(c.$$.fragment,r),a=!0)},o(r){k(t.$$.fragment,r),k(c.$$.fragment,r),a=!1},d(r){r&&u(e),A(t),r&&u(l),r&&u(s),A(c),o=!1,f()}}}function $e(n){let e,t;return e=new oe({}),{c(){F(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){z(e,l,s),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){A(e,l)}}}function R(n){let e,t,l=n[2],s=[];for(let a=0;a<l.length;a+=1)s[a]=K(J(n,l,a));const c=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=C()},l(a){for(let o=0;o<s.length;o+=1)s[o].l(a);e=C()},m(a,o){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(a,o);$(a,e,o),t=!0},p(a,o){if(o&12){l=a[2];let f;for(f=0;f<l.length;f+=1){const r=J(a,l,f);s[f]?(s[f].p(r,o),w(s[f],1)):(s[f]=K(r),s[f].c(),w(s[f],1),s[f].m(e.parentNode,e))}for(O(),f=l.length;f<s.length;f+=1)c(f);G()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)w(s[o]);t=!0}},o(a){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)k(s[o]);t=!1},d(a){Z(s,a),a&&u(e)}}}function K(n){let e,t,l,s,c,a,o,f;return e=new ce({props:{value:n[9].value,isTapable:n[9].isTapable,isMovesUp:n[9].isMovesUp}}),{c(){t=y("div"),F(e.$$.fragment),this.h()},l(r){t=E(r,"DIV",{style:!0});var i=p(t);V(e.$$.fragment,i),this.h()},h(){T(t,"display","contents"),T(t,"--color",l=n[9].color),T(t,"--scale",s=(n[9].lifespan/25e3).toFixed(2)),T(t,"--offset",c=n[9].laneIndex*(100/n[3].totalLanes)+100/n[3].totalLanes/2+"%"),T(t,"--delay",a=n[9].delay+"ms"),T(t,"--speed",o=n[9].lifespan+"ms")},m(r,i){$(r,t,i),z(e,t,null),f=!0},p(r,i){i&4&&l!==(l=r[9].color)&&T(t,"--color",l),i&4&&s!==(s=(r[9].lifespan/25e3).toFixed(2))&&T(t,"--scale",s),i&4&&c!==(c=r[9].laneIndex*(100/r[3].totalLanes)+100/r[3].totalLanes/2+"%")&&T(t,"--offset",c),i&4&&a!==(a=r[9].delay+"ms")&&T(t,"--delay",a),i&4&&o!==(o=r[9].lifespan+"ms")&&T(t,"--speed",o);const m={};i&4&&(m.value=r[9].value),i&4&&(m.isTapable=r[9].isTapable),i&4&&(m.isMovesUp=r[9].isMovesUp),e.$set(m)},i(r){f||(w(e.$$.fragment,r),f=!0)},o(r){k(e.$$.fragment,r),f=!1},d(r){r&&e&&u(t),A(e,r)}}}function ke(n){let e,t,l,s,c,a,o;const f=[we,be],r=[];function i(_,v){return _[0]==="new"?0:1}l=i(n),s=r[l]=f[l](n);let m={length:n[3].totalLanes},g=[];for(let _=0;_<m.length;_+=1)g[_]=$e(pe(n,m,_));let d=n[0]==="active"&&R(n);return{c(){e=y("div"),t=y("div"),s.c(),c=W();for(let _=0;_<g.length;_+=1)g[_].c();a=W(),d&&d.c(),this.h()},l(_){e=E(_,"DIV",{id:!0,class:!0});var v=p(e);t=E(v,"DIV",{id:!0,class:!0});var B=p(t);s.l(B),B.forEach(u),c=q(v);for(let j=0;j<g.length;j+=1)g[j].l(v);a=q(v),d&&d.l(v),v.forEach(u),this.h()},h(){h(t,"id","controls"),h(t,"class","absolute flex flex-col justify-center items-center w-16"),h(e,"id","container"),h(e,"class","flex w-screen h-screen")},m(_,v){$(_,e,v),x(e,t),r[l].m(t,null),x(e,c);for(let B=0;B<g.length;B+=1)g[B]&&g[B].m(e,null);x(e,a),d&&d.m(e,null),o=!0},p(_,[v]){let B=l;l=i(_),l===B?r[l].p(_,v):(O(),k(r[B],1,1,()=>{r[B]=null}),G(),s=r[l],s?s.p(_,v):(s=r[l]=f[l](_),s.c()),w(s,1),s.m(t,null)),_[0]==="active"?d?(d.p(_,v),v&1&&w(d,1)):(d=R(_),d.c(),w(d,1),d.m(e,null)):d&&(O(),k(d,1,1,()=>{d=null}),G())},i(_){if(!o){w(s);for(let v=0;v<m.length;v+=1)w(g[v]);w(d),o=!0}},o(_){k(s),g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)k(g[v]);k(d),o=!1},d(_){_&&u(e),r[l].d(),Z(g,_),d&&d.d()}}}function ye(n,e,t){let l={lifespan:5e3,totalLanes:U(ee),totalBugs:U(te),gameLength:U(re)},s="new",c=0,a=0,o=[];const f=g=>{c===0&&(c=g),t(1,a=g-c),o.forEach(d=>{d.isTapable===!1&&a>d.delay+d.lifespan*3/7&&(d.isTapable=!0)}),t(2,o),a>l.gameLength&&r(),s==="active"&&requestAnimationFrame(f)};function r(){t(0,s="new"),c=0,t(2,o=[])}function i(){s!=="active"&&(t(2,o=ue()),console.info(o),t(0,s="active"),requestAnimationFrame(f))}const m=`${l.totalLanes/100}%`;return[s,a,o,l,r,i,m]}class Ee extends M{constructor(e){super(),I(this,e,ye,ke,L,{wobbleWidth:6})}get wobbleWidth(){return this.$$.ctx[6]}}function Be(n){let e,t;return e=new Ee({}),{c(){F(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,s){z(e,l,s),t=!0},p:b,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){A(e,l)}}}class Me extends M{constructor(e){super(),I(this,e,null,Be,L,{})}}export{Me as default};
